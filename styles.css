:root{
  /* Dark theme (default) */
  --bg:#0f1318;
  --panel:#171b22;
  --panel-2:#1c222b;
  --text:#e6e9ef;
  --muted:#a6adbb;
  --primary:#31a7ff; /* cian-azulado profesional */
  --primary-600:#2293e6;
  --success:#27c498;
  --warning:#f0b232;
  --danger:#ef5350;
  --border:#262d38;
  --shadow: 0 6px 18px rgba(0,0,0,0.35);
}
/* Light theme overrides */
body.theme-light{
  --bg:#f6f7fb;
  --panel:#ffffff;
  --panel-2:#f1f3f8;
  --text:#1a1f27;
  --muted:#5b6577;
  --primary:#2476d3;
  --primary-600:#1f66b6;
  --success:#1e8e70;
  --warning:#c48717;
  --danger:#c7433f;
  --border:#dbe1ea;
  --shadow: 0 6px 18px rgba(22,31,46,0.10);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  background:linear-gradient(180deg, rgba(12,17,22,1) 0%, var(--bg) 30%, var(--bg) 100%);
  color:var(--text);
}
body.theme-light{
  background:linear-gradient(180deg, #eef1f6 0%, var(--bg) 18%, var(--bg) 100%);
}

/* Header */
.app-header{
  position:sticky; top:0; z-index:20;
  display:flex; align-items:center; justify-content:space-between;
  padding:18px 22px; border-bottom:1px solid var(--border);
  background:rgba(15,19,24,0.85); backdrop-filter:saturate(180%) blur(10px);
}
body.theme-light .app-header{background:rgba(255,255,255,0.85)}
.brand-title{font-weight:700; letter-spacing:0.2px}
.brand-subtitle{color:var(--muted); font-size:13px; margin-top:4px}
.header-right{display:flex; gap:16px; align-items:center}
.system-time{font-variant-numeric:tabular-nums; color:var(--muted); font-weight:600}
.system-status{display:flex; gap:8px; align-items:center; padding:6px 10px; border:1px solid var(--border); border-radius:999px; background:var(--panel)}
.status-dot{width:10px; height:10px; border-radius:50%; display:inline-block}
.status-dot.neutral{background:#7a8699}
.status-dot.ok{background:var(--success)}
.status-dot.warn{background:var(--warning)}
.status-dot.err{background:var(--danger)}
.status-text{font-size:13px; color:var(--muted)}
/* Icon button */
.icon-btn{display:inline-flex; align-items:center; justify-content:center; width:36px; height:36px; border-radius:10px; background:var(--panel); border:1px solid var(--border); color:#b8c1cf; cursor:pointer}
.icon-btn:hover{background:var(--panel-2); color:#e6e9ef}
body.theme-light .icon-btn{color:#3b4a64}
body.theme-light .icon-btn:hover{color:#1a1f27}

/* CTA / Buttons */
.btn{display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:10px 12px; border-radius:10px; border:1px solid var(--border); font-weight:600; text-decoration:none; cursor:pointer}
.btn-primary{background:var(--primary); color:white; border-color:transparent; box-shadow:0 6px 14px rgba(36,118,211,0.25)}
.btn-primary:hover{filter:brightness(1.05)}
body.theme-light .btn-primary{box-shadow:0 6px 14px rgba(36,118,211,0.20)}

/* Main */
.app-main{padding:22px; max-width:1280px; margin:0 auto}

/* KPI cards */
.kpis{display:grid; grid-template-columns:repeat(6,1fr); gap:14px; margin-bottom:18px}
.kpi-card{background:var(--panel); border:1px solid var(--border); border-radius:14px; padding:14px 14px 12px; box-shadow:var(--shadow)}
.kpi-title{font-size:11px; letter-spacing:0.6px; color:var(--muted); margin-bottom:8px}
.kpi-value{font-size:26px; font-weight:700; line-height:1}
.kpi-sub{margin-top:6px; color:var(--muted); font-size:12px}

/* Generic cards */
.card{background:var(--panel); border:1px solid var(--border); border-radius:16px; box-shadow:var(--shadow); overflow:hidden}
.card + .card{margin-top:0}
.card-header{display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid var(--border); background:linear-gradient(180deg,var(--panel-2),var(--panel))}
.card-header h2{font-size:14px; font-weight:700; margin:0; letter-spacing:0.2px}
.card-body{padding:16px}
.single-col{display:grid; gap:16px; margin-bottom:18px}
/* Filters */
.filters{display:flex; flex-wrap:wrap; gap:12px}
.filters label{display:flex; flex-direction:column; gap:6px; background:var(--panel-2); border:1px solid var(--border); padding:10px; border-radius:10px}
.filters select, .filters input{background:transparent; color:var(--text); border:1px solid var(--border); border-radius:8px; padding:8px}

/* Grid 2 columns */
.grid-2{display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-bottom:18px}

/* Table */
.table-wrap{overflow:auto}
.data-table{width:100%; border-collapse:separate; border-spacing:0}
.data-table thead th{position:sticky; top:0; background:var(--panel-2); color:var(--muted); font-size:12px; text-align:left; padding:10px 12px; border-bottom:1px solid var(--border)}
.data-table tbody td{padding:12px; border-bottom:1px solid var(--border)}
.data-table tbody tr:hover{background:rgba(255,255,255,0.02)}
.data-table tbody tr:nth-child(even){background:rgba(255,255,255,0.015)}
.placeholder{color:var(--muted); font-size:14px}
body.theme-light .data-table thead th{background:var(--panel-2)}
body.theme-light .data-table tbody tr:nth-child(even){background:rgba(0,0,0,0.02)}

/* Chips */
.chip{display:inline-flex; align-items:center; gap:6px; padding:4px 8px; border-radius:999px; font-size:12px; font-weight:600; border:1px solid transparent}
.chip.whatsapp{background:rgba(39,196,152,0.12); color:#58e1bf; border-color:rgba(39,196,152,0.3)}
.chip.manual{background:rgba(49,167,255,0.12); color:#7bc6ff; border-color:rgba(49,167,255,0.3)}
.chip.estado-confirmada{background:rgba(39,196,152,0.12); color:#58e1bf; border-color:rgba(39,196,152,0.3)}
.chip.estado-pendiente{background:rgba(240,178,50,0.12); color:#ffd27a; border-color:rgba(240,178,50,0.35)}
.chip.estado-cancelada{background:rgba(239,83,80,0.12); color:#ffa3a1; border-color:rgba(239,83,80,0.35)}

/* Lists */
.list{display:grid; gap:10px}
.list-item{display:flex; justify-content:space-between; align-items:flex-start; gap:10px; padding:12px; border:1px solid var(--border); border-radius:12px; background:var(--panel-2)}
.list-item .title{font-weight:600}
.list-item .meta{color:var(--muted); font-size:12px}

/* Alert color accents */
.alert-cancelada{border-left:3px solid var(--danger)}
.alert-reprogramada{border-left:3px solid var(--primary)}
.alert-estado{border-left:3px solid var(--primary-600)}

/* Error bar */
.error-bar{position:fixed; left:16px; right:16px; bottom:16px; padding:12px 14px; border-radius:10px; background:rgba(239,83,80,0.14); color:#ffc6c4; border:1px solid rgba(239,83,80,0.35); box-shadow:var(--shadow)}
body.theme-light .error-bar{background:rgba(199,67,63,0.10); color:#7b2c2a; border-color:rgba(199,67,63,0.3)}

/* Chart.js tweaks for dark */
canvas{max-width:100%}

/* Calendar */
.calendar-grid{display:grid; gap:8px}
.cal-head{display:grid; grid-template-columns:repeat(7,1fr); gap:6px}
.cal-head > div{color:var(--muted); font-size:12px; text-align:center}
.cal-body{display:grid; grid-template-columns:repeat(7,1fr); gap:6px}
.cal-cell{background:var(--panel-2); border:1px solid var(--border); border-radius:10px; min-height:68px; color:var(--text); display:flex; align-items:flex-start; justify-content:flex-end; padding:8px; cursor:pointer}
.cal-cell:hover{outline:1px solid rgba(49,167,255,0.5)}
.cal-cell.muted{opacity:0.35}
.cal-num{font-weight:700; font-size:13px; color:#bcd3ef}

/* Responsive */
@media (max-width:1200px){
  .kpis{grid-template-columns:repeat(3,1fr)}
}
@media (max-width:860px){
  .grid-2{grid-template-columns:1fr}
}
@media (max-width:640px){
  .app-main{padding:16px}
  .kpis{grid-template-columns:repeat(2,1fr)}
  .kpi-value{font-size:24px}
  .card-header h2{font-size:14px}
}

/* Drawer (right side panel) */
.drawer-overlay{position:fixed; inset:0; background:rgba(0,0,0,0.35); opacity:0; pointer-events:none; transition:opacity .2s ease; z-index:40}
.drawer{position:fixed; top:0; right:0; height:100%; width:300px; max-width:86vw; background:var(--panel); border-left:1px solid var(--border); box-shadow:var(--shadow); transform:translateX(100%); transition:transform .25s ease; z-index:41; display:flex; flex-direction:column}
.drawer-header{display:flex; align-items:center; justify-content:space-between; padding:14px 14px; border-bottom:1px solid var(--border); background:var(--panel-2)}
.drawer-title{font-weight:700}
.drawer-nav{display:flex; flex-direction:column; padding:10px}
.drawer-link{display:block; padding:10px 12px; border-radius:10px; color:var(--text); text-decoration:none; border:1px solid transparent}
.drawer-link:hover{background:rgba(255,255,255,0.04); border-color:var(--border)}
.drawer-link.active{background:rgba(49,167,255,0.12); border-color:rgba(49,167,255,0.35); color:#9ad6ff}

body.drawer-open .drawer{transform:translateX(0)}
body.drawer-open .drawer-overlay{opacity:1; pointer-events:auto}
